{"ast":null,"code":"var _jsxFileName = \"/home/ryotaro_kubo/django_project/timerapp/src/components/login.js\",\n  _s = $RefreshSig$();\nimport axios from \"axios\";\nimport React from \"react\";\nimport { useCookies } from \"react-cookie\";\nimport { useForm } from \"react-hook-form\";\nimport { useNavigate } from \"react-router-dom\";\nimport { apiURL } from \"../App\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Login = props => {\n  _s();\n  const history = useNavigate();\n  const [cookies, setCookie] = useCookies();\n  const {\n    register,\n    handleSubmit,\n    watch,\n    errors\n  } = useForm();\n  const getJwt = async data => {\n    console.log(data);\n    await axios.post(`${apiURL}auth/jwt/create/`, {\n      email: data.email,\n      password: data.password\n    }).then(function (response) {\n      console.log(response.data.access);\n      setCookie(\"accesstoken\", response.data.access, {\n        path: \"/\"\n      }, {\n        httpOnly: true\n      });\n      setCookie(\"refreshtoken\", response.data.refresh, {\n        path: \"/\"\n      }, {\n        httpOnly: true\n      });\n      history.push(\"/\");\n    }).catch(err => {\n      console.log(\"miss\");\n      alert(\"EmailかPasswordが違います\");\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"top-wrapper\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"login\",\n      children: /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"login-block\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit(getJwt),\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          for: \"email\",\n          children: \"Email\\uFF1A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"form-control\",\n          ...register(\"email\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          for: \"password\",\n          children: \"PassWord\\uFF1A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"form-control\",\n          type: \"password\",\n          ...register(\"password\", {\n            required: true\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"btn btn-secondary\",\n          type: \"submit\",\n          value: \"\\u30ED\\u30B0\\u30A4\\u30F3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n};\n_s(Login, \"ww4r1KqLiERzsiGpoRIN9BhG9ak=\", false, function () {\n  return [useNavigate, useCookies, useForm];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["axios","React","useCookies","useForm","useNavigate","apiURL","jsxDEV","_jsxDEV","Login","props","_s","history","cookies","setCookie","register","handleSubmit","watch","errors","getJwt","data","console","log","post","email","password","then","response","access","path","httpOnly","refresh","push","catch","err","alert","className","children","class","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","for","type","required","value","_c","$RefreshReg$"],"sources":["/home/ryotaro_kubo/django_project/timerapp/src/components/login.js"],"sourcesContent":["import axios from \"axios\";\nimport React from \"react\";\nimport { useCookies } from \"react-cookie\";\nimport { useForm } from \"react-hook-form\";\nimport { useNavigate } from \"react-router-dom\";\nimport { apiURL } from \"../App\";\n\nconst Login = (props) => {\n  const history = useNavigate();\n\n  const [cookies, setCookie] = useCookies();\n  const { register, handleSubmit, watch, errors } = useForm();\n\n  const getJwt = async (data) => {\n    console.log(data);\n    await axios\n      .post(`${apiURL}auth/jwt/create/`, {\n        email: data.email,\n        password: data.password,\n      })\n      .then(function (response) {\n        console.log(response.data.access);\n        setCookie(\n          \"accesstoken\",\n          response.data.access,\n          { path: \"/\" },\n          { httpOnly: true }\n        );\n        setCookie(\n          \"refreshtoken\",\n          response.data.refresh,\n          { path: \"/\" },\n          { httpOnly: true }\n        );\n        history.push(\"/\");\n      })\n      .catch((err) => {\n        console.log(\"miss\");\n        alert(\"EmailかPasswordが違います\");\n      });\n  };\n\n  return (\n    <div className=\"top-wrapper\">\n      <div class=\"login\">\n        <h3>Login</h3>\n      </div>\n      <div class=\"login-block\">\n        <form onSubmit={handleSubmit(getJwt)}>\n          <label for=\"email\">Email：</label>\n          <input className=\"form-control\" {...register(\"email\")} />\n          <label for=\"password\">PassWord：</label>\n          <input\n            className=\"form-control\"\n            type=\"password\"\n            {...register(\"password\", { required: true })}\n          />\n          <input className=\"btn btn-secondary\" type=\"submit\" value=\"ログイン\" />\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default Login;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}